(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))c(t);new MutationObserver(t=>{for(const o of t)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&c(i)}).observe(document,{childList:!0,subtree:!0});function m(t){const o={};return t.integrity&&(o.integrity=t.integrity),t.referrerPolicy&&(o.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?o.credentials="include":t.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function c(t){if(t.ep)return;t.ep=!0;const o=m(t);fetch(t.href,o)}})();const s={vokzal:["08:01","10:51","13:21","16:11","18:06","20:41"],kirova:["05:44","6:45","07:30","07:36","08:05","08:25","09:35","10:35","11:06","12:00","12:40","13:20","13:36","14:30","15:30","16:00","16:26","17:00","17:30","18:00","18:21","19:30","20:54"],kadino:["5:55","06:24","06:48","07:20","07:50","08:30","08:50","09:12","10:10","11:30","11:57","12:30","13:40","14:10","14:27","15:15","16:08","16:40","17:20","18:30","19:12","19.40","20:10","21:38"],romanovichi:["05:45","06:12","07:10","08:40","08:54","10:00","11:20","11:44","12:20","13:30","14:00","14:15","15:05","15:58","16:30","17:05","17:22","18:20","19:00","19:30","21:27"],vokzal6:["08:05","10:50","13:06","16:00","18:11"],kirova6:["05:44","08:25","11:06","13:36","16:26","18:28"],kadino6:["06:24","9:12","11:57","14:27","17:20","19:12"],romanovichi6:["06:10","08:58","11:40","14:13","17:05","19:00"],vokzal7:["08:05","10:50","13:06","16:00","18:11"],kirova7:["08:25","11:15","13:25","16:15","18:28"],kadino7:["09:12","11:57","14:27","17:20","19:12"],romanovichi7:["08:55","11:43","14:10","17:03","19:03"]},D=document.getElementById("timeNextKadino"),S=document.getElementById("timeNextKirova"),$=document.getElementById("timeNextRomanovichi"),q=document.getElementById("timeNextVokzal"),W=document.getElementById("sheduleKadino"),H=document.getElementById("sheduleKirova"),U=document.getElementById("sheduleRomanovichi"),j=document.getElementById("sheduleVokzal");let x,r,l,k;function E(n){k=n;const e=new Date,m=e.getDay();r=n!==void 0?n:m,r===0&&(r=7),console.log(r),l=e.getHours();const c=e.getMinutes();n!==void 0&&(clearTimeout(x),l=0);let t,o,i,g,p,v;r<6?(t=s.kirova,g=s.kadino,p=s.romanovichi,v=s.vokzal):(r===6&&(t=s.kirova6,g=s.kadino6,p=s.romanovichi6,v=s.vokzal6),r===7&&(t=s.kirova7,g=s.kadino7,p=s.romanovichi7,v=s.vokzal7));function w(V,u,K){K.innerText="",u.innerText="",u.classList.remove("hidden"),o=[],i=[],V.forEach(h=>{const d=h.split(":"),a=document.createElement("span");Number(d[0])>=l?(a.classList.add("shedule"),Number(d[0])===l&&Number(d[1])<c&&a.classList.add("oldshedule"),Number(d[0])===l&&Number(d[1])>=c&&(a.classList.add("shedulenow"),o.push(h)),Number(d[0])-l===1&&o.push(h),Number(d[0])-l>1&&(a.classList.add("shedulelong"),i.push(h))):(a.classList.add("shedule"),a.classList.add("oldshedule")),u.innerText=o.join(", "),a.innerText=h,K.appendChild(a)}),i&&o.length<1&&(u.innerText=i.join(", ")),k===void 0&&u.childNodes.length<1&&u.classList.add("hidden")}w(t,S,H),w(g,D,W),w(p,$,U),w(v,q,j),x=setTimeout(()=>E(k),1e4)}const{VITE_APP_OWM_API_KEY:Y,VITE_APP_OWM_BACK:se}={VITE_APP_OWM_API_KEY:"351bef36095247499eb96265dfb607d2",VITE_APP_BACK:"https://rbstrtk.herokuapp.com/home",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1},F="Mogilev",Z=`https://api.openweathermap.org/data/2.5/weather?q=${F}&lang=ru&appid=${Y}&units=metric`;document.getElementById("temperatureKadino");const P=document.getElementById("temperatureMogilev"),T=document.getElementById("weatherIcon"),C=document.getElementById("weatherDescription"),M=document.getElementById("wind"),G=document.getElementById("timeNowHours"),J=document.getElementById("timeNowMins"),Q=document.getElementById("collapseKirova"),X=document.getElementById("collapseKadino"),ee=document.getElementById("collapseVokzal"),te=document.getElementById("collapseRomanovichi"),oe=new URLSearchParams(window.location.search);document.querySelector(".tomorow");const z=document.querySelector(".dropdown-menu"),B=document.getElementById("dropdown-toggle"),ne=document.getElementById("reset"),L=document.querySelectorAll(".dropdown-item");let N;function A(n){const e=n.classList;e.contains("show")?e.remove("show"):e.add("show")}const f=oe.get("from");f&&(f.toLowerCase().match("kirova")&&Q.classList.add("show"),f.toLowerCase().match("kadino")&&X.classList.add("show"),f.toLowerCase().match("vokzal")&&ee.classList.add("show"),f.toLowerCase().match("romanovichi")&&te.classList.add("show"));let y,_,b;async function O(){const e=await(await fetch(Z)).json();if(e.cod!==200){T.textContent="",P.textContent="",C.textContent="",M.textContent="",console.log(e);return}T.classList.add(`owf-${e.weather[0].id}`),P.textContent=`${Math.round(e.main.temp)}°C`,C.textContent=e.weather[0].description,M.textContent=`- ветер: ${Math.round(e.wind.speed)}м/с`,setTimeout(O,1e6)}const R=()=>{const n=e=>e<10?`0${e}`:e;y=new Date,y.getDay(),_=y.getHours(),b=y.getMinutes(),G.innerText=n(_),J.innerText=n(b),setTimeout(()=>R(),5e3)},I=new Date().getDay();console.log(I);B.addEventListener("click",()=>A(z));ne.addEventListener("click",()=>{E(),L.forEach(n=>{n.classList.remove("active")}),B.innerText="Другой день"});L.forEach((n,e)=>{e===I&&n.classList.add("desabled"),n.addEventListener("click",m=>{E(e||I+1),N=e,A(z),B.innerText=m.target.innerText,L.forEach(c=>{c.classList.remove("active")}),m.target.classList.add("active")})});console.log(N);R();E(N);O();
